{% extends "base.html" %}

{% block content %}
<div class="container-fluid mt-4">
    <h2>Vincular Cuenta de Facebook</h2>
    <form action="{{ url_for('main_bp.add_facebook_account') }}" method="post">
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.name.label }}
            {{ form.name(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.token.label }}
            {{ form.token(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.ad_accounts.label }}
            <div id="adAccountsContainer">
                {% for ad_account in form.ad_accounts %}
                    {{ ad_account(class="form-control mb-2") }}
                {% endfor %}
            </div>
        </div>
        <button type="button" class="btn btn-secondary" onclick="addAdAccountInput()">AÃ±adir otro Ad Account ID</button>
        <br><br>
        <input type="submit" value="Vincular Cuenta" class="btn btn-primary">
    </form>
</div>

<script>
    function addAdAccountInput() {
        var container = document.getElementById('adAccountsContainer');
        var input = document.createElement('input');
        input.type = 'text';
        input.name = 'ad_accounts';
        input.className = 'form-control mb-2';
        container.appendChild(input);
    }
</script>
{% endblock %}
