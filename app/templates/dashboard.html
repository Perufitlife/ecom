{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<div class="container-fluid mt-4">
    <h2>Dashboard</h2>
    
    <!-- Formulario de filtros existentes -->
    <form method="post" class="form-inline mt-3">
        {{ form.hidden_tag() }}
        <div class="form-group mb-2">
            {{ form.start_date.label }} {{ form.start_date(class="form-control ml-2") }}
        </div>
        <div class="form-group mb-2">
            {{ form.end_date.label }} {{ form.end_date(class="form-control ml-2") }}
        </div>
        <div class="form-group mb-2">
            {{ form.country.label }} {{ form.country(class="form-control ml-2") }}
        </div>
        <div class="form-group mb-2">
            {{ form.region.label }} {{ form.region(class="form-control ml-2") }}
        </div>
        <div class="form-group mb-2">
            {{ form.estado.label }} {{ form.estado(class="form-control ml-2") }}
        </div>
        <div class="form-group mb-2">
            {{ form.platform.label }} {{ form.platform(class="form-control ml-2") }}
        </div>
        <div class="form-group mb-2">
            {{ form.currency.label }} {{ form.currency(class="form-control ml-2") }}
        </div>
        <button type="submit" class="btn btn-primary mb-2 ml-2">Filter</button>
    </form>

    <h2 class="mt-5">Data</h2>
    <div class="table-responsive">
        <table class="table table-striped table-bordered table-hover" id="dashboardTable">
            <thead class="thead-light">
                <tr>
                    <th>Product</th>
                    <th>Ads Spend</th>
                    <th>Quantity</th>
                    <th>Sales</th>
                </tr>
            </thead>
            <tbody>
                {% for product, data in dashboard_data.items() %}
                <tr>
                    <td>{{ product }}</td>
                    <td>${{ data.ads_spend }}</td>
                    <td>{{ data.quantity }}</td>
                    <td>${{ data.sales }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>


<script>
    $(document).ready(function() {
        $('#dashboardTable').DataTable({
            paging: true,
            searching: true,
            ordering: true
        });
    });
</script>
{% endblock %}
